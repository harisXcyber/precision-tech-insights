<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Services - Precision Tech Insights</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="brand.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body class="bg-gray-50">

    <!-- Navigation -->
    <nav class="bg-secondary/95 backdrop-blur-md text-white fixed w-full z-50 shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img src="company_logo.png" alt="Precision Tech Insights" class="w-10 h-10 rounded-full">
                    <div class="text-xl font-bold">Precision Tech Insights</div>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="index.html" class="hover:text-accent transition-colors">Home</a>
                    <a href="services-new.html" class="text-accent font-semibold">Services</a>
                    <a href="about.html" class="hover:text-accent transition-colors">About</a>
                    <a href="contact.html" class="hover:text-accent transition-colors">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <div class="category-header" style="margin-top: 72px;">
        <div class="container mx-auto px-4" style="position: relative; z-index: 1;">
            <h1 class="category-title">Our Services</h1>
            <p style="font-size: 1.25rem; color: var(--gray-600); max-width: 800px; margin: 0 auto;">
                Choose from our comprehensive range of digital solutions
            </p>
        </div>
    </div>

    <!-- Loading State -->
    <div id="loading" style="padding: 5rem 0; text-align: center;">
        <div style="display: inline-block; width: 50px; height: 50px; border: 4px solid var(--gray-200); border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite;"></div>
        <p style="margin-top: 1rem; color: var(--gray-600);">Loading services...</p>
    </div>

    <!-- Services Container -->
    <section id="services-container" style="padding: 5rem 0; display: none;">
        <div class="container mx-auto px-4">
            <div id="product-groups" class="grid-3"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2026 Precision Tech Insights. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Fetch product groups from ClientExec
        async function loadServices() {
            try {
                // Fetch the order page
                const response = await fetch('https://hosting.precisiontechinsights.com/order.php');
                const html = await response.text();
                
                // Parse HTML to extract product groups
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // Extract product group data (adjust selectors based on actual ClientExec HTML)
                const groups = [];
                
                // Example: Find product group cards/links
                const groupElements = doc.querySelectorAll('.product-group, [data-product-group]');
                
                groupElements.forEach(element => {
                    const name = element.querySelector('.group-name, h3, h2')?.textContent.trim();
                    const description = element.querySelector('.group-description, p')?.textContent.trim();
                    const link = element.querySelector('a')?.href;
                    
                    if (name) {
                        groups.push({ name, description, link });
                    }
                });
                
                // If no groups found, create manual mapping
                if (groups.length === 0) {
                    groups.push(
                        {
                            name: 'Shared Web Hosting',
                            description: 'Enterprise-grade hosting solutions for all your needs',
                            link: 'https://hosting.precisiontechinsights.com/order.php?step=1&productGroup=1',
                            icon: 'üåê'
                        },
                        {
                            name: 'Web Development',
                            description: 'Modern, scalable web solutions built with cutting-edge technologies',
                            link: 'https://hosting.precisiontechinsights.com/order.php?step=1&productGroup=5',
                            icon: 'üíª'
                        },
                        {
                            name: 'Domain Services',
                            description: 'Register and manage your domain names',
                            link: 'https://hosting.precisiontechinsights.com/order.php?step=1&productGroup=3',
                            icon: 'üåç'
                        }
                    );
                }
                
                // Render product groups
                renderProductGroups(groups);
                
            } catch (error) {
                console.error('Error loading services:', error);
                document.getElementById('loading').innerHTML = `
                    <div style="text-align: center; padding: 3rem;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: var(--error); margin-bottom: 1rem;"></i>
                        <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem;">Unable to load services</h3>
                        <p style="color: var(--gray-600); margin-bottom: 2rem;">Please try again or contact support.</p>
                        <a href="contact.html" class="btn btn-primary">Contact Support</a>
                    </div>
                `;
            }
        }
        
        function renderProductGroups(groups) {
            const container = document.getElementById('product-groups');
            
            groups.forEach((group, index) => {
                const card = document.createElement('div');
                card.className = 'service-card animate-fadeInUp';
                card.style.animationDelay = `${index * 0.1}s`;
                
                card.innerHTML = `
                    <div class="service-card-icon">${group.icon || 'üì¶'}</div>
                    <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; color: var(--gray-800);">
                        ${group.name}
                    </h3>
                    <p style="color: var(--gray-600); margin-bottom: 2rem; line-height: 1.8;">
                        ${group.description || 'Explore our range of services'}
                    </p>
                    <a href="services/web-development.html" class="btn btn-primary btn-full">
                        <i class="fas fa-arrow-right"></i> View Products
                    </a>
                `;
                
                container.appendChild(card);
            });
            
            // Hide loading, show content
            document.getElementById('loading').style.display = 'none';
            document.getElementById('services-container').style.display = 'block';
        }
        
        // Load services on page load
        window.addEventListener('DOMContentLoaded', loadServices);
    </script>

    <style>
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>

</body>
</html>
